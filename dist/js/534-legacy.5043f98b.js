"use strict";(self["webpackChunkcontrol_center"]=self["webpackChunkcontrol_center"]||[]).push([[534],{3534:(e,t,s)=>{s.r(t),s.d(t,{default:()=>m});var n=s(6252);const o={class:"ion-padding"},a=(0,n._)("h1",null,"Telegram-Bot Nachricht senden",-1);function c(e,t,s,c,l,r){const i=(0,n.up)("ion-input"),h=(0,n.up)("ion-button");return(0,n.wg)(),(0,n.iD)("div",o,[a,(0,n.Wm)(i,{placeholder:"Nachricht",modelValue:l.message,"onUpdate:modelValue":t[0]||(t[0]=e=>l.message=e),value:l.message,onIonInput:t[1]||(t[1]=e=>{l.message=e.target.value})},null,8,["modelValue","value"]),(0,n.Wm)(h,{onClick:t[2]||(t[2]=e=>r.sendMessage())},{default:(0,n.w5)((()=>[(0,n.Uk)("Senden")])),_:1})])}var l=s(5759),r=s(2201),i=s(8945),h=s(129),d=s.n(h);const p={components:{IonButton:l.YG,IonInput:l.pK},data(){return{message:""}},mounted(){const e=(0,r.yj)();i.Z.post("https://alex.polan.sk/control-center/telegram_bot.php",d().stringify({getConfig:"getConfig",project:e.params.project})).then((e=>{this.token=e.data.token,this.chatID=e.data.chatID;const t=`https://api.telegram.org/bot${this.token}`,s={};function n(){i.Z.post(`${t}/getUpdates`).then((e=>{const o=e.data.result;o.forEach((e=>{const n=e.message,o=n.chat.id,a=n.message_id;s[a]||(s[a]=!0,i.Z.post(`${t}/sendMessage`,{chat_id:o,text:"Hallo"}))})),setTimeout(n,5e3)})).catch((e=>{console.log(e),setTimeout(n,5e3)}))}n()}))},methods:{sendMessage(){const e="https://api.telegram.org/bot"+this.token+"/sendMessage",t=e+"?chat_id="+this.chatID+"&text="+this.message;i.Z.post(t)}}};var u=s(3744);const g=(0,u.Z)(p,[["render",c]]),m=g}}]);
//# sourceMappingURL=534-legacy.5043f98b.js.map