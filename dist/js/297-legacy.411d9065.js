"use strict";(self["webpackChunkcontrol_center"]=self["webpackChunkcontrol_center"]||[]).push([[297],{2297:(e,a,l)=>{l.r(a),l.d(a,{default:()=>W});var t=l(6252);function s(e,a){const l=(0,t.up)("AlertMessage"),s=(0,t.up)("TableCard"),n=(0,t.up)("ion-icon"),o=(0,t.up)("ion-button"),r=(0,t.up)("ion-buttons"),u=(0,t.up)("ion-title"),d=(0,t.up)("ion-toolbar"),m=(0,t.up)("ion-header"),i=(0,t.up)("ion-label"),p=(0,t.up)("ion-input"),c=(0,t.up)("ion-item"),_=(0,t.up)("ion-col"),f=(0,t.up)("ion-row"),w=(0,t.up)("ion-grid"),g=(0,t.up)("ion-content"),h=(0,t.up)("ion-modal"),W=(0,t.up)("ion-page");return(0,t.wg)(),(0,t.j4)(W,null,{default:(0,t.w5)((()=>[(0,t.Wm)(g,null,{default:(0,t.w5)((()=>[e.successMessage?((0,t.wg)(),(0,t.j4)(l,{key:0,message:{title:"Success!",content:"User created successful"}})):(0,t.kq)("",!0),(0,t.Wm)(s,{labels:e.labels,data:e.data},null,8,["labels","data"]),(0,t.Wm)(o,{id:"open-modal"},{default:(0,t.w5)((()=>[(0,t.Wm)(n,{name:"add-outline"}),(0,t.Uk)(" New User ")])),_:1}),(0,t.Wm)(h,{ref:"modal",trigger:"open-modal"},{default:(0,t.w5)((()=>[(0,t.Wm)(m,null,{default:(0,t.w5)((()=>[(0,t.Wm)(d,null,{default:(0,t.w5)((()=>[(0,t.Wm)(r,{slot:"start"},{default:(0,t.w5)((()=>[(0,t.Wm)(o,{onClick:a[0]||(a[0]=a=>e.cancel()),style:{color:"red"}},{default:(0,t.w5)((()=>[(0,t.Uk)("Cancel")])),_:1})])),_:1}),(0,t.Wm)(u,{style:{"text-align":"center"}},{default:(0,t.w5)((()=>[(0,t.Uk)("Create new user")])),_:1}),(0,t.Wm)(r,{slot:"end"},{default:(0,t.w5)((()=>[(0,t.Wm)(o,{strong:!0,onClick:a[1]||(a[1]=a=>e.confirm()),style:{color:"red"}},{default:(0,t.w5)((()=>[(0,t.Uk)("Confirm")])),_:1})])),_:1})])),_:1})])),_:1}),(0,t.Wm)(g,{class:"ion-padding"},{default:(0,t.w5)((()=>[(0,t.Wm)(w,null,{default:(0,t.w5)((()=>[(0,t.Wm)(f,null,{default:(0,t.w5)((()=>[(0,t.Wm)(_,null,{default:(0,t.w5)((()=>[(0,t.Wm)(c,null,{default:(0,t.w5)((()=>[(0,t.Wm)(i,{position:"stacked"},{default:(0,t.w5)((()=>[(0,t.Uk)("First name")])),_:1}),(0,t.Wm)(p,{ref:"first_name",type:"text",placeholder:"Enter your first name",modelValue:e.first_name,"onUpdate:modelValue":a[2]||(a[2]=a=>e.first_name=a),value:e.first_name,onIonInput:a[3]||(a[3]=a=>e.first_name=a.target.value)},null,8,["modelValue","value"])])),_:1})])),_:1}),(0,t.Wm)(_,null,{default:(0,t.w5)((()=>[(0,t.Wm)(c,null,{default:(0,t.w5)((()=>[(0,t.Wm)(i,{position:"stacked"},{default:(0,t.w5)((()=>[(0,t.Uk)("Last name")])),_:1}),(0,t.Wm)(p,{ref:"last_name",type:"text",placeholder:"Enter your last name",modelValue:e.last_name,"onUpdate:modelValue":a[4]||(a[4]=a=>e.last_name=a),value:e.last_name,onIonInput:a[5]||(a[5]=a=>e.last_name=a.target.value)},null,8,["modelValue","value"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,t.Wm)(c,null,{default:(0,t.w5)((()=>[(0,t.Wm)(i,{position:"stacked"},{default:(0,t.w5)((()=>[(0,t.Uk)("Email address")])),_:1}),(0,t.Wm)(p,{ref:"email_adress",type:"email",placeholder:"Enter your email address",modelValue:e.email_adress,"onUpdate:modelValue":a[6]||(a[6]=a=>e.email_adress=a),value:e.email_adress,onIonInput:a[7]||(a[7]=a=>e.email_adress=a.target.value)},null,8,["modelValue","value"])])),_:1}),(0,t.Wm)(c,null,{default:(0,t.w5)((()=>[(0,t.Wm)(i,{position:"stacked"},{default:(0,t.w5)((()=>[(0,t.Uk)("Password")])),_:1}),(0,t.Wm)(p,{ref:"password",type:"password",placeholder:"Enter your password",modelValue:e.password,"onUpdate:modelValue":a[8]||(a[8]=a=>e.password=a),value:e.password,onIonInput:a[9]||(a[9]=a=>e.password=a.target.value)},null,8,["modelValue","value"])])),_:1})])),_:1})])),_:1},512)])),_:1})])),_:1})}var n=l(832),o=l(3577);function r(e,a,l,s,n,r){const u=(0,t.up)("ion-card-title"),d=(0,t.up)("ion-card-header"),m=(0,t.up)("ion-card-content"),i=(0,t.up)("ion-card");return(0,t.wg)(),(0,t.j4)(i,{style:{"--background":"rgba(2, 176, 14, 0.14)",padding:".5rem"}},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{style:{margin:"0",padding:"0"}},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{style:{"--color":"rgb(0, 111, 7)"}},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(l.message.title),1)])),_:1})])),_:1}),(0,t.Wm)(m,{style:{margin:"0",padding:"0"}},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(l.message.content),1)])),_:1})])),_:1})}const u={name:"AlertMessage",props:{message:{}}};var d=l(3744);const m=(0,d.Z)(u,[["render",r]]),i=m;var p=l(2262),c=l(5759),_=l(8945),f=l(129),w=l.n(f);const g=(0,t.aZ)({components:{TableCard:n.Z,IonPage:c._i,IonButton:c.YG,IonContent:c.W2,IonModal:c.ki,AlertMessage:i},setup(){const e=(0,p.iH)([]),a=(0,p.iH)([]);return _.Z.post("https://alex.polan.sk/control-center/mysql.php",w().stringify({getTableByName:"control_center_users"})).then((l=>{e.value=l.data.labels,a.value=l.data.data})),{labels:e,data:a}},data(){return{password:"",email_adress:"",first_name:"",last_name:"",message:"",successMessage:""}},methods:{cancel(){this.$refs.modal.$el.dismiss(null,"cancel")},confirm(){this.password&&this.email_adress&&this.first_name?(_.Z.post("https://alex.polan.sk/control-center/users.php",w().stringify({new_user:"new_user",first_name:this.first_name,last_name:this.last_name,email_adress:this.email_adress,password:this.password})).then((e=>{console.log(e),this.successMessage=e.data,_.Z.post("https://alex.polan.sk/control-center/mysql.php",w().stringify({getTableByName:"control_center_users"})).then((e=>{this.labels=e.data.labels,this.data=e.data.data})),setTimeout((()=>{this.successMessage="",console.log(this.successMessage)}),3e3)})),this.$refs.modal.$el.dismiss(null,"confirm")):console.log("empty")}}}),h=(0,d.Z)(g,[["render",s]]),W=h}}]);
//# sourceMappingURL=297-legacy.411d9065.js.map