{"version":3,"file":"js/534-legacy.5043f98b.js","mappings":"0KACSA,MAAM,e,GACTC,EAAAA,EAAAA,GAAsC,UAAlC,iCAA6B,G,iGADnCC,EAAAA,EAAAA,IAIM,MAJNC,EAIM,CAHJC,GACAC,EAAAA,EAAAA,IAA6HC,EAAAA,CAAlHC,YAAY,Y,WAAqBC,EAAAA,Q,qCAAAA,EAAAA,QAAO,GAAGC,MAAOD,EAAAA,QAAUE,WAAQ,gBAAEF,EAAAA,QAAUG,EAAOC,OAAOH,KAAK,I,gCAC9GJ,EAAAA,EAAAA,IAAsDQ,EAAAA,CAAzCC,QAAK,eAAEC,EAAAA,gB,mBAAe,IAAM,UAAN,a,4DAUvC,SACEC,WAAY,CACVC,UAAS,KACTC,SAAQA,EAAAA,IAEVC,OACE,MAAO,CACLC,QAAS,GAEb,EACAC,UACE,MAAMC,GAAQC,EAAAA,EAAAA,MACdC,EAAAA,EAAAA,KAAW,wDAAyDC,IAAAA,UAAa,CAACC,UAAW,YAAaC,QAASL,EAAMM,OAAOD,WAC/HE,MAAKC,IACJC,KAAKC,MAAQF,EAAIX,KAAKa,MACtBD,KAAKE,OAASH,EAAIX,KAAKc,OACvB,MAAMC,EAAW,+BAA8BH,KAAKC,QAC9CG,EAAkB,CAAC,EAEzB,SAASC,IACPZ,EAAAA,EAAAA,KAAY,GAAEU,gBACbL,MAAMQ,IACH,MAAMC,EAAUD,EAASlB,KAAKoB,OAC9BD,EAAQE,SAASC,IACjB,MAAMrB,EAAUqB,EAAOrB,QACjBsB,EAAStB,EAAQuB,KAAKC,GACtBC,EAAYzB,EAAQ0B,WACrBX,EAAgBU,KACnBV,EAAgBU,IAAa,EAC7BrB,EAAAA,EAAAA,KAAY,GAAEU,gBAAuB,CACnCa,QAASL,EACTM,KAAM,UAEV,IAEJC,WAAWb,EAAY,IAAK,IAEjCc,OAAOC,IACNC,QAAQC,IAAIF,GACZF,WAAWb,EAAY,IAAK,GAElC,CACAA,GAAY,GAIR,EACAkB,QAAS,CACPC,cACE,MAAMC,EAAM,+BAAiCzB,KAAKC,MAAQ,eACpDyB,EAAUD,EAAM,YAAazB,KAAKE,OAAQ,SAASF,KAAKX,QAC9DI,EAAAA,EAAAA,KAAWiC,EAMb,I,cClEN,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,G","sources":["webpack://control-center/./src/views/TelegramBot.vue","webpack://control-center/./src/views/TelegramBot.vue?66b5"],"sourcesContent":["<template>\n    <div class=\"ion-padding\">\n      <h1>Telegram-Bot Nachricht senden</h1>\n      <ion-input placeholder=\"Nachricht\" v-model=\"message\" :value=\"message\" @ionInput=\"message = $event.target.value;\"></ion-input>\n      <ion-button @click=\"sendMessage()\">Senden</ion-button>\n    </div>\n  </template>\n  \n  <script>\n  import { IonButton, IonInput } from '@ionic/vue';\n  import { useRoute } from \"vue-router\";\n  import axios from 'axios';\n  import qs from 'qs';\n\n  export default {\n    components: {\n      IonButton,\n      IonInput,\n    },\n    data() {\n      return {\n        message: '',\n      };\n    },\n    mounted(){\n      const route = useRoute();\n      axios.post('https://alex.polan.sk/control-center/telegram_bot.php', qs.stringify({getConfig: 'getConfig', project: route.params.project}))\n      .then(res=>{\n        this.token = res.data.token;\n        this.chatID = res.data.chatID;\n        const baseUrl = `https://api.telegram.org/bot${this.token}`;\n        const repliedMessages = {};\n\n        function getUpdates() {\n          axios.post(`${baseUrl}/getUpdates`)\n          .then((response) => {\n              const updates = response.data.result;\n              updates.forEach((update) => {\n              const message = update.message;\n              const chatId = message.chat.id;\n              const messageId = message.message_id;\n              if (!repliedMessages[messageId]) {\n                repliedMessages[messageId] = true;\n                axios.post(`${baseUrl}/sendMessage`, {\n                  chat_id: chatId,\n                  text: 'Hallo'\n                });\n              }\n          });\n          setTimeout(getUpdates, 5000);\n      })\n    .catch((error) => {\n      console.log(error);\n      setTimeout(getUpdates, 5000);\n    });\n}\ngetUpdates();\n\n      });\n        \n    },\n    methods: {\n      sendMessage() {\n        const url = \"https://api.telegram.org/bot\" + this.token + \"/sendMessage\";  \n        const fullUrl = url + '?chat_id='+ this.chatID +'&text='+this.message;\n        axios.post(fullUrl);\n\n        //send image\n        //const url2 = \"https://api.telegram.org/bot\" + token + \"/sendPhoto\";  \n        //const fullUrl2 = url2 + '?chat_id=796382938&photo=https://www.simplilearn.com/ice9/free_resources_article_thumb/what_is_image_Processing.jpg&caption=Ty mas mega velky penis hahahahahah';\n        //axios.post(fullUrl2);\n      },\n    },\n  };\n  </script>\n  ","import { render } from \"./TelegramBot.vue?vue&type=template&id=edbf7a70\"\nimport script from \"./TelegramBot.vue?vue&type=script&lang=js\"\nexport * from \"./TelegramBot.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/alexpolan/control-center-2/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_createVNode","_component_ion_input","placeholder","$data","value","onIonInput","$event","target","_component_ion_button","onClick","$options","components","IonButton","IonInput","data","message","mounted","route","useRoute","axios","qs","getConfig","project","params","then","res","this","token","chatID","baseUrl","repliedMessages","getUpdates","response","updates","result","forEach","update","chatId","chat","id","messageId","message_id","chat_id","text","setTimeout","catch","error","console","log","methods","sendMessage","url","fullUrl","__exports__","render"],"sourceRoot":""}