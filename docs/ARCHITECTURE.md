# System Architektur - Dashboard Integration

## ğŸ—ï¸ Ãœberblick

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         USER INTERFACE                           â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              DashboardView.vue                           â”‚   â”‚
â”‚  â”‚  - Widget Auswahl (Modul + Widget)                       â”‚   â”‚
â”‚  â”‚  - Widget Anzeige                                        â”‚   â”‚
â”‚  â”‚  - Widget Management (Add/Remove)                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      REGISTRY LAYER                              â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚          DashboardRegistry (Singleton)                   â”‚   â”‚
â”‚  â”‚  â€¢ register(provider)                                    â”‚   â”‚
â”‚  â”‚  â€¢ getProvider(moduleId)                                 â”‚   â”‚
â”‚  â”‚  â€¢ getAllProviders()                                     â”‚   â”‚
â”‚  â”‚  â€¢ getAllWidgets()                                       â”‚   â”‚
â”‚  â”‚  â€¢ getWidget(moduleId, widgetId)                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â–¼           â–¼           â–¼           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AppStore    â”‚â”‚  Link        â”‚â”‚  Chat        â”‚â”‚  Weitere     â”‚
â”‚  Provider    â”‚â”‚  Analytics   â”‚â”‚  App         â”‚â”‚  Module      â”‚
â”‚              â”‚â”‚  Provider    â”‚â”‚  Provider    â”‚â”‚  Provider    â”‚
â”‚  8 Widgets   â”‚â”‚  X Widgets   â”‚â”‚  Y Widgets   â”‚â”‚  Z Widgets   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚               â”‚               â”‚               â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        DATA LAYER                                â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚   Backend   â”‚  â”‚  External   â”‚  â”‚  Database   â”‚            â”‚
â”‚  â”‚   APIs      â”‚  â”‚  APIs       â”‚  â”‚  Queries    â”‚            â”‚
â”‚  â”‚  (PHP)      â”‚  â”‚             â”‚  â”‚             â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“¦ Module Struktur

```
src/modules/beispiel-modul/
â”‚
â”œâ”€â”€ index.ts â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   â€¢ Registriert Provider         â”‚
â”‚   â€¢ Modul-Initialisierung        â”‚
â”‚                                  â”‚
â”œâ”€â”€ dashboard.provider.ts â—„â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚   â€¢ Widget Definitionen
â”‚   â€¢ getData() Implementierungen
â”‚   â€¢ Widget-Konfiguration
â”‚
â”œâ”€â”€ routes.ts
â”‚   â€¢ Vue Router Routen
â”‚
â””â”€â”€ components/
    â””â”€â”€ BeispielView.vue
        â€¢ Hauptansicht des Moduls
```

## ğŸ”„ Datenfluss

### Widget hinzufÃ¼gen:
```
User klickt "+" Button
  â†“
DashboardView zeigt Modal
  â†“
User wÃ¤hlt "Module Widget"
  â†“
DashboardView lÃ¤dt: dashboardRegistry.getAllProviders()
  â†“
User wÃ¤hlt Modul (z.B. "AppStore")
  â†“
DashboardView lÃ¤dt: provider.widgets
  â†“
User wÃ¤hlt Widget (z.B. "Downloads")
  â†“
DashboardView speichert Konfiguration
  â†“
Widget wird angezeigt
```

### Widget-Daten laden:
```
DashboardView.loadCharts()
  â†“
FÃ¼r jedes Widget:
  â†“
dashboardRegistry.getWidget(moduleId, widgetId)
  â†“
widget.getData(params)
  â†“
Backend API Call (z.B. appstore_downloads.php)
  â†“
Daten zurÃ¼ck zu Widget
  â†“
Chart/Stat/Table Rendering
```

## ğŸ¯ Widget Lifecycle

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. DEFINITION (dashboard.provider.ts)                   â”‚
â”‚    Widget wird definiert mit:                            â”‚
â”‚    - id, type, title, icon                               â”‚
â”‚    - getData() Funktion                                  â”‚
â”‚    - config (optional)                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. REGISTRATION (index.ts)                              â”‚
â”‚    dashboardRegistry.register(provider)                  â”‚
â”‚    Widget wird in Registry gespeichert                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. SELECTION (User Interface)                           â”‚
â”‚    User wÃ¤hlt Widget im Dashboard aus                    â”‚
â”‚    Widget-Config wird gespeichert                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. LOADING (DashboardView)                              â”‚
â”‚    widget.getData() wird aufgerufen                      â”‚
â”‚    Daten werden von API geladen                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. RENDERING (DashboardDisplay)                         â”‚
â”‚    Widget wird angezeigt:                                â”‚
â”‚    - Stat: Zahl + Trend                                  â”‚
â”‚    - Chart: Diagramm (Chart.js)                          â”‚
â”‚    - Table: Datentabelle                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”— Komponenten-Kommunikation

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   main.ts        â”‚  App Start
â”‚  (Auto-Loading)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ import.meta.glob('./modules/*/index.ts')
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Module Index Files werden geladen            â”‚
â”‚  - appstore-connect/index.ts                  â”‚
â”‚  - link-analytics/index.ts                    â”‚
â”‚  - ... weitere Module                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ dashboardRegistry.register(provider)
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DashboardRegistry (zentraler Store)          â”‚
â”‚  Map<moduleId, ModuleDashboardProvider>       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ getAllProviders()
         â”‚ getWidget()
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DashboardView.vue                            â”‚
â”‚  - Zeigt verfÃ¼gbare Module                    â”‚
â”‚  - LÃ¤dt Widget-Daten                          â”‚
â”‚  - Rendert Widgets                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š Widget Types Hierarchy

```
DashboardWidget (Interface)
â”‚
â”œâ”€â”€ StatWidget
â”‚   â””â”€â”€ getData() â†’ { value, trend?, label }
â”‚
â”œâ”€â”€ ChartWidget
â”‚   â”œâ”€â”€ config.chartType: 'pie'
â”‚   â”œâ”€â”€ config.chartType: 'donut'
â”‚   â”œâ”€â”€ config.chartType: 'bar'
â”‚   â””â”€â”€ config.chartType: 'line'
â”‚   â””â”€â”€ getData() â†’ { labels[], datasets[] }
â”‚
â”œâ”€â”€ TableWidget
â”‚   â””â”€â”€ getData() â†’ { columns[], rows[], pagination? }
â”‚
â””â”€â”€ CardWidget
    â””â”€â”€ getData() â†’ any (custom)
```

## ğŸ¨ Type System

```typescript
// Type Definitionen Flow

dashboard.types.ts
  â”œâ”€â”€ DashboardWidget
  â”‚   â”œâ”€â”€ id: string
  â”‚   â”œâ”€â”€ type: 'stat' | 'chart' | 'table' | 'card'
  â”‚   â”œâ”€â”€ title: string
  â”‚   â”œâ”€â”€ getData: (params?) => Promise<any>
  â”‚   â””â”€â”€ config?: { ... }
  â”‚
  â”œâ”€â”€ ModuleDashboardProvider
  â”‚   â”œâ”€â”€ moduleId: string
  â”‚   â”œâ”€â”€ moduleName: string
  â”‚   â”œâ”€â”€ widgets: DashboardWidget[]
  â”‚   â””â”€â”€ getWidget: (id) => DashboardWidget?
  â”‚
  â””â”€â”€ DashboardRegistry
      â”œâ”€â”€ register(provider)
      â”œâ”€â”€ getProvider(moduleId)
      â””â”€â”€ getAllWidgets()
```

## ğŸš€ Erweiterungspunkte

```
1. Neue Widget-Typen:
   dashboard.types.ts â†’ type hinzufÃ¼gen
   DashboardDisplay.vue â†’ Rendering hinzufÃ¼gen

2. Neue Module:
   src/modules/neues-modul/
   â”œâ”€â”€ dashboard.provider.ts â†’ Widgets definieren
   â””â”€â”€ index.ts â†’ Registrieren

3. Neue Features:
   DashboardRegistry â†’ Methoden hinzufÃ¼gen
   useDashboardData â†’ Composable erweitern
```

## ğŸ¯ Best Practices Flow

```
1. Widget-ID Convention:
   [module-name]-[widget-name]
   Beispiel: "appstore-total-downloads"

2. Error Handling:
   getData() â†’ try/catch â†’ return default value

3. Performance:
   â€¢ Cache hÃ¤ufig abgerufene Daten
   â€¢ Limitiere Datenmenge (Top 10)
   â€¢ Verwende async/await

4. Konsistenz:
   â€¢ Verwende Standard-Farben
   â€¢ Verwende Ionicons
   â€¢ Folge Type-Definitionen
```

---

**Diese Architektur ermÃ¶glicht skalierbare, wartbare und erweiterbare Dashboard-Integration fÃ¼r alle Module!** ğŸ‰
